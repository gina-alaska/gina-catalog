.row-fluid
  .span4
    .control-group
      = label_tag 'search[type]', 'Record Type', class: 'control-label'
      .controls
        = select_tag 'search[type]', options_for_select([['Projects', 'Project'], ['Data', 'Data']], @search[:type]), class: 'span12', data: {placeholder: 'Projects and Data', ui: 'select2' }, include_blank: true, tabindex: 8
    .span12{ style: "margin-left: 0" }
      .span6
        .control-group
          = label_tag 'search[start_date_before]', 'Starts before', class: 'control-label'
          .controls
            = number_field_tag 'search[start_date_before]', @search[:start_date_before], min: 1900, max: Time.zone.now.year, placeholder: 'YYYY', class: 'span12', tabindex: 11
      .span6
        .control-group
          = label_tag 'search[start_date_after]', 'Starts after', class: 'control-label'
          .controls
            = number_field_tag 'search[start_date_after]', @search[:start_date_after], min: 1900, max: Time.zone.now.year, placeholder: 'YYYY', class: 'span12', tabindex: 11
  .span4
    .control-group
      = label_tag 'search[data_types]', 'Data Type', class: 'control-label'
      .controls
        = select_tag 'search[data_types]', options_from_collection_for_select(DataType.all, :name, :name, @search[:data_types]), class: 'span12', data: {placeholder: 'All types', ui: 'select2'}, include_blank: true, tabindex: 9
    .span12{ style: "margin-left: 0" }
      .span6
        .control-group
          = label_tag 'search[end_date_before]', 'Ends before'
          .controls
            = number_field_tag 'search[end_date_before]', @search[:end_date_before], min: 1900, max: Time.zone.now.year, placeholder: 'YYYY', class: 'span12', tabindex: 12
      .span6
        .control-group
          = label_tag 'search[end_date_after]', 'Ends after'
          .controls
            = number_field_tag 'search[end_date_after]', @search[:end_date_after], min: 1900, max: Time.zone.now.year, placeholder: 'YYYY', class: 'span12', tabindex: 12
  .span4
    .control-group
      = label_tag 'search[status]', 'Status'
      .controls
        = select_tag 'search[status]', options_for_select(Project::STATUSES + Asset::STATUSES, @search[:status]), class: 'span12', data: { placeholder: 'Any', ui: 'select2' }, include_blank: true, tabindex: 10
    .control-group
      = label_tag 'search[region]', 'Region'
      .controls
        = select_tag 'search[region]', options_from_collection_for_select(Geokeyword.all, :name, :name, @search[:region]), class: 'span12', data: {placeholder: 'All regions', ui: 'select2'}, include_blank: true, tabindex: 13
.row-fluid
  .span12
    .control-group
      = label_tag 'search[iso_topic_ids]', 'ISO Topics'
      .controls
        = select_tag 'search[iso_topic_ids]', options_from_collection_for_select(IsoTopic.all, :id, :long_name_with_code, @search[:iso_topic_ids]), class: "span12", data: {placeholder: 'All types', ui: 'select2'}, include_blank: true, tabindex: 14
.row-fluid
  .span6
    .control-group
      = label_tag 'search[source_agency_id]', 'Primary Agency'
      .controls
        = collection_select_for_agencies('search[source_agency_id]', @search[:source_agency_id], false, tabindex: 15)
    .control-group
      = label_tag 'search[funding_agency_id]', 'Funding Agency'
      .controls
        = collection_select_for_agencies('search[funding_agency_id]', @search[:funding_agency_id], false, tabindex: 17)
  .span6
    .control-group
      = label_tag 'search[agency_ids]', 'Other Agencies'
      .controls
        = collection_select_for_agencies('search[agency_ids]', @search[:agency_ids], true, tabindex: 16)
    .control-group
      =label_tag 'search[agency_types]', 'Agency Type'
      .controls
        =select_tag 'search[agency_types]', options_for_select(Agency::CATEGORIES, @search[:agency_types]), data: {placeholder: 'All Agency Types', ui: 'select2'}, class: 'span12', :include_blank => true, tabindex: 18
      
.row-fluid
  .span4
    =label_tag 'search[primary_contact_id]', 'Primary Contact'
    =select_tag 'search[primary_contact_id]', options_from_collection_for_select(current_setup.persons, :id, :contact_string, @search[:primary_contact_id]), data: {placeholder: 'All Contacts', ui: 'select2'}, class: 'span12', :include_blank => true, tabindex: 19
  .span8
    =label_tag 'search[contact_ids]', 'Contacts'
    =select_tag 'search[contact_ids]', options_from_collection_for_select(current_setup.persons, :id, :contact_string, @search[:contact_ids]), multiple: true, class: 'span12', data: {placeholder: 'All Contacts', ui: 'select2'}, tabindex: 20

.row-fluid
  .span6
    =label_tag 'search[collection_ids]', 'Collections'
    =select_tag 'search[collection_ids]', options_from_collection_for_select(current_setup.collections, :id, :name, @search[:collection_ids]), data: {placeholder: 'Collections', ui: 'select2'}, class: 'span12', :include_blank => true, tabindex: 21, multiple: true
  .span6
    =label_tag 'search[owner_setup_id]', 'Record Source'
    =select_tag 'search[owner_setup_id]', options_for_select(@sources, @search[:owner_setup_id]), class: 'span12', data: {placeholder: 'All Sources'}
