= bootstrap_form_for :search, url: manager_entries_path, method: :get do |f|
  .panel.panel-default
    .panel-heading
      %h1.panel-title Search
    = render 'search/map'
    .panel-body
      .form-group.form-inline
        .input-group
          = f.text_field_without_bootstrap :query, value: @search_params[:query], placeholder: 'Keyword search', class: 'form-control'
          .input-group-btn{ style: 'width:1%;' }
            %button.btn.btn-default{ type: 'button', data: { behavior: 'clear-form' } }
              %i.fa.fa-times
            %button.btn.btn-primary{ type: 'submit' }
              %i.fa.fa-search
      .row
        .col-sm-6
          = f.select_without_bootstrap :order, [['Sort: Relevance', 'relevance'], ['Sort: Title', 'title'], ['Sort: Last Updated', 'updated_at']], { selected: @search_params[:order] }, { class: 'form-control' }
        .col-sm-6
          = f.select_without_bootstrap :limit, [['Limit: 20', 20], ['Limit: 50', 50], ['Limit: 100', 100], ['Limit: 500', 500], ['Limit: 1000', 1000]], { selected: @search_params[:limit] }, { class: 'form-control'}
    .panel-body.panel-break
      %h3.panel-title Collections
    = render 'search/facet_field', facets: @facets.collections, field: :collections
    .panel-body.panel-break
      %h3.panel-title Tags
    = render 'search/facet_field', facets: @facets.tags, field: :tags
    = render 'search/date_fields', f: f
    .panel-body.panel-break
      %h3.panel-title Record Type
    = render 'search/facet_field', facets: @facets.entry_types, field: :entry_type_name
    .panel-body.panel-break
      %h3.panel-title Status
    = render 'search/facet_field', facets: @facets.status, field: :status
    .panel-body.panel-break
      %h3.panel-title Primary Agency
    = render 'search/facet_field', facets: @facets.primary_agencies, field: :primary_agencies
    .panel-body.panel-break
      %h3.panel-title Funding Agency
    = render 'search/facet_field', facets: @facets.funding_agencies, field: :funding_agencies
    .panel-body.panel-break
      %h3.panel-title Agency Category
    = render 'search/facet_field', facets: @facets.agency_categories, field: :agency_categories
    .panel-body.panel-break
      %h3.panel-title Primary Contact
    = render 'search/facet_field', facets: @facets.primary_contacts, field: :primary_contacts
    .panel-body.panel-break
      %h3.panel-title Other Contact
    = render 'search/facet_field', facets: @facets.other_contacts, field: :other_contacts
