.row-fluid
  .span12
    - if @map_layer.errors.count > 0
      .alert.alert-error{ style: 'margin: 5px;' }
        %h4 Error while saving map layer
        %ul
          - @map_layer.errors.full_messages.each do |msg|
            %li= msg
    = form_for [:manager, @catalog, @map_layer.becomes(MapLayer)], remote: true, html: { style: 'margin: 0;', id: 'map_layer_form' } do |f|
      %div{ style: 'padding: 5px 10px;' }
        .row-fluid
          .span3
            .control-group
              = f.label :type, 'Type: ', class: 'control-label'
              .controls
                = f.select :type, [['WMS', 'WmsLayer']], { include_blank: false }, class: 'span12'
          .span9
            .control-group
              = f.label :name, 'Name: ', class: 'control-label'
              .controls
                = f.text_field :name, class: 'span12'
        .control-group
          = f.label :url, 'URL:', class: 'control-label'
          .controls
            = f.text_field :url, class: 'span12'
        .control-group
          = f.label :layers, 'Layer Names:', class: 'control-label'
          .controls
            = f.text_field :layers, class: 'span12'
            %span.help-block.muted
              Only applies to WMS Layers
        .control-group
          = f.label :projections, 'Supported Projections: ', class: 'control-label'
          .controls
            = f.text_field :projections, class: 'span12', placeholder: 'Leave blank to support all projects'
            %span.help-block.muted
              Valid options are EPSG:3857, EPSG: 3338, EPSG: 3572
  
      .form-actions{ style: 'margin:0;' }
        = f.submit class: 'btn btn-primary pull-right'