/**
 * @class App.view.catalog.NavigationToolbar
 * @extends Ext.ButtonGroup
 * Main Navigation toolbar for catalog
 */
Ext.define('App.view.catalog.NavigationToolbar', {
  extend: 'Ext.toolbar.Toolbar', 
  alias: 'widget.catalog_navigation_toolbar',

  initComponent: function() {
    this.callParent(arguments);

    this.add({
      itemId: 'nav',
      xtype: 'buttongroup',
      columns: 3,
      cls: 'main-menu',
      defaults: { 
        scale: 'large', 
        width: '100%', 
        enableToggle: true, 
        toggleGroup: 'pages' 
      }        
    }, {
      itemId: 'auth',
      xtype: 'buttongroup',
      columns: 1,
      cls: 'main-menu',
      defaults: { 
        scale: 'large'
      }                
    });

    this.loggedOut();
  },

  updateButtons: function(nav, auth){
    this.down('#nav').removeAll();
    this.down('#nav').add(nav);
    this.down('#auth').removeAll();
    this.down('#auth').add(auth);
  },

  loggedOut: function(){
    this.updateButtons(this.loggedOutNavButtons, this.loggedOutAuthButtons);
  },
  loggedIn: function(){
    this.updateButtons(this.loggedInNavButtons, this.loggedInAuthButtons());
  },

  loggedOutAuthButtons: [{
    text: 'Signup',
    action: 'external',
    link: 'http://id.gina.alaska.edu/#signup',
    iconCls: 'blue-agent'
  }, {
    text: 'Login',
    action: 'local',
    link: '/login',
    iconCls: 'blue-lock'
  }],

  loggedInAuthButtons: function() {
    return [{
      xtype: 'panel',
      width: 150,
      border: false,
      cls: 'welcome-panel',      
      html: 'Welcome back<br />'+ App.current_user.get('fullname')
    }, {
      text: 'Logout',
      action: 'local',
      link: '/logout',
      iconCls: 'blue-lock'
    }];
  },

  loggedOutNavButtons: [{
    text: 'Catalog',
    iconCls: 'blue-bookmark'
  }, {
    text: 'News',
    iconCls: 'blue-news'
  }, {
    text: 'Help',
    action: 'help',
    iconCls: 'blue-male-user'
  }, {
    text: 'Realtime Data',
    action: 'external',
    link: 'http://realtime.hub.gina.alaska.edu',
    iconCls: 'blue-satellite'
  }, {
    text: 'Contact Us',
    iconCls: 'blue-email'
  }, {
    text: 'NSSI',
    action: 'external',
    link: 'http://northslope.org',
    iconCls: 'blue-globe'
  }],

  loggedInNavButtons: [{
    text: 'Catalog',
    iconCls: 'blue-bookmark'
  }, {
    text: 'News',
    iconCls: 'blue-news'
  }, {
    text: 'Help',
    action: 'help',
    iconCls: 'blue-male-user'
  }, {
    text: 'Other Links', 
    iconCls: 'blue-globe',
    menu: [{
      text: 'North Slope Science Initiative',
      iconCls: 'blue-globe',
      action: 'external',
      link: 'http://northslope.org',
    },{
      text: 'Realtime Data',
      iconCls: 'blue-satellite',
      action: 'external',
      link: 'http://realtime.hub.gina.alaska.edu'
    }]
  }, {
    text: 'Contact Us',
    iconCls: 'blue-email'
  }, {
    text: 'Manager',
    iconCls: 'blue-configuration',
    action: 'external',
    link: '/manager'
  }]
});