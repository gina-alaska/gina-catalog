.content
  .row-fluid
    .span4.sidebar
      = render 'advanced_search', search_params: @search_params, results: @results
    
      #map{ data: {                                       |
        openlayers: 'map_canvas',                         |
        projection: 'EPSG:3572',                          |
        displayProjection: 'EPSG:4326',                   |
        layers: ['TILE.EPSG:3572.BDL', 'TILE.EPSG:3572.OSM_OVERLAY'] |
        }, |
        style: 'border: 1px solid #cfcfcf;' }
        .navbar.navbar-static-top
          .navbar-inner
            .btn-group
              = link_to '#', data: { action: 'zoomToMaxExtent' }, class: 'btn' do
                %i.icon-globe
            / .btn-group
            /   = link_to '#', data: { action: 'placeMarker' }, class: 'btn' do
            /     %i.icon-map-marker
            /   = link_to '#', data: { action: 'drawPolygon' }, class: 'btn' do
            /     %i.icon-pencil
          
        #map_canvas{ style: 'width:100%; height:300px;' }             
    .span8
      .search
        .row-fluid.header
          .span3
            %h4 Search results
          .span7{style:'padding-top: 2px; color:#000;'}
            .btn-group
              = link_to_prev_page @results, class: 'btn' do
                %i.icon-angle-left
              %button.btn
                %span= display_result_info(@results, @pagenum, @limit, @total)
              = link_to_next_page @results, class: 'btn' do
                %i.icon-angle-right
          .span2
            .nav.dropdown{style:'padding-top: 2px; color:#000;'}
              = link_to '#', class: "btn btn-block dropdown-toggle", data: { 'loading-text' => 'Loading...', toggle: "dropdown" } do
                = "Limit: #{@limit}"
                %i.caret
              %ul.dropdown-menu
                %li
                  =link_to search_path(limit: "30"), data: { behaviour: 'stash', target: '#limit', value: 30 }, method: :get do
                    30 Records
                %li
                  =link_to search_path(limit: "100"), data: { behaviour: 'stash', target: '#limit', value: 100 }, method: :get do
                    100 Records
                %li
                  =link_to search_path(limit: "500"), data: { behaviour: 'stash', target: '#limit', value: 500 }, method: :get do
                    500 Records
        %table.table.table-striped.table-condensed.results
          %tbody
            - if @results.empty?
              %tr
                %td
                  %p.lead No search results
            - @results.each do |result|
              = render result
      
  .row-fluid
    .span8.offset4{style: 'text-align:center'}
      = paginate @results, window: 2
  